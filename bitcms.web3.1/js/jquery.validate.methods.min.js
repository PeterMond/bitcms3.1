
// 中文字两个字节
jQuery.validator.addMethod("zhLength", function (value, element, param) {
    var length = value.length;
    for (var i = 0; i < value.length; i++) {
        if (value.charCodeAt(i) > 127) {
            length++;
        }
    }
    return this.optional(element) || (length >= param[0] && length <= param[1]);
}, $.validator.format("输入内容在{0}-{1}个字符之间(一个中文算2个字符)"));

//验证手机号码
jQuery.validator.addMethod("mobile", function (value, element) {
    var length = value.length;
    var mobile = /^(1\d{10})$/
    return this.optional(element) || (length == 11 && mobile.test(value));
}, "手机号码格式错误");
//验证关键字，只允许字母，数字和下划线
$.validator.addMethod("key", function (value, element, params) {
    var key = /^([a-zA-Z]+[a-zA-Z0-9_]*)$/
    return this.optional(element) || (key.test(value));
   
}, "以字母开头且只允许字母，数字和下划线");
//验证会员账号，只允许字母和数字
$.validator.addMethod("username", function (value, element, params) {
    var key = /^([a-zA-Z0-9\u4e00-\u9fa5]*)$/
    return this.optional(element) || (key.test(value));
}, "只允许中文、英文和数字");

jQuery.validator.setDefaults({
    ignore: '[data-type="file"]'
});